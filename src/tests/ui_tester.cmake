#Set the name of the unit test
SET(UNIT_TEST_NAME "ui_tester")

#Remove main.cpp and use our own
LIST(REMOVE_ITEM SIMI_SOURCES "main.cpp")
PREPEND_SOURCES(SIMI_PREPEND_SOURCES SIMI_SOURCES "../")


PREPEND_SOURCES(SIMI_F SIMI_FORMS "../")
QT4_WRAP_UI(SIMI_FORMS_HEADERS ${SIMI_F})

PREPEND_SOURCES(SIMI_HP SIMI_HEADERS "../")
QT4_WRAP_CPP(UI_TEST_HEADERS_MOC ${SIMI_HP} ui_tester.h)


PREPEND_SOURCES(SIMI_R SIMI_RESOURCES "../")
QT4_ADD_RESOURCES(SIMI_RESOURCES_RCC ${SIMI_R})

ADD_EXECUTABLE(${UNIT_TEST_NAME}
		${UI_TEST_HEADERS_MOC}
		${SIMI_PREPEND_SOURCES}
		${SIMI_FORMS_HEADERS}
		${SIMI_RESOURCES_RCC}
		ui_tester.cpp
		)

TARGET_LINK_LIBRARIES(${UNIT_TEST_NAME}
			${QT_LIBRARIES} 
			${VTK_LIBRARIES}
			QVTK
			${COVERAGE_LIB}
			)
ADD_TEST(UserInterfaceTester ${UNIT_TEST_NAME})

#Add the unit test to the list of unit tests that could be built
LIST(APPEND UNIT_TESTS ${UNIT_TEST_NAME})
